<!DOCTYPE html>
<html lang="en">

{% include analytics.html %}
{% include head.html %}

<style>
  #sidebar-wrapper {
    position: relative;
    float: left;
    width: 25%;
  }

  #sidebar-toggle {
    position: absolute;
    top: 0;
    right: -50px;
    z-index: 1;
  }

  #sidebar-toggle-wrapper {
    position: fixed;
    left: 20%;
    transform: translateY(-50%);
    z-index: 2;
  }

  @media only screen and (max-width: 1000px) {
    #sidebar-toggle-wrapper {
      display: none;
    }

    #sidebar-wrapper {
      width: 100%;
    }

    #sidebar-toggle {
      display: none;
    }

    .col.s12.m9.full-width {
      width: 100%;
    }
  }

  #sidebar-toggle-wrapper.hidden {
    display: none;
  }

  @media only screen and (max-width: 1000px) {
    #sidebar-toggle-wrapper.hidden {
      display: block;
      position: fixed;
      top: 0;
      right: 0;
      transform: none;
      z-index: 3;
    }
  }
</style>

<body style="background-color: #232323;">
  <div id="sidebar-toggle-wrapper">
    <button id="sidebar-toggle">Hide Sidebar</button>
  </div>
  <div class="row">
    <div class="col s12 m3" id="sidebar-wrapper">
      <div class="table cover">
        <div class="table-middle row">
          {% include sidebar.html %}
        </div>
      </div>
    </div>
    <div class="col s12 m9" id="post-listing-wrapper">
      <div class="post-listing">
        {{ content }}
        {% include footer.html %}
      </div>
    </div>
  </div>
  {% include js.html %}
  <script src="{{ site.url }}/js/lightbox.js"></script>
  <script>
    var sidebarWrapper = document.getElementById("sidebar-wrapper");
    var sidebarToggle = document.getElementById("sidebar-toggle");
    var sidebarToggleWrapper = document.getElementById("sidebar-toggle-wrapper");
    var postListingWrapper = document.getElementById("post-listing-wrapper");

    sidebarToggle.addEventListener("click", function () {
      if (sidebarWrapper.style.display === "none") {
        sidebarWrapper.style.display = "block";
        sidebarToggleWrapper.classList.remove("hidden");
        postListingWrapper.classList.remove("full-width");
        sidebarToggle.textContent = "Hide Sidebar";
      } else {
        sidebarWrapper.style.display = "none";
        sidebarToggleWrapper.classList.add("hidden");
        postListingWrapper.classList.add("full-width");
        sidebarToggle.textContent = "Show Sidebar";
      }
    });
  </script>
</body>

</html>